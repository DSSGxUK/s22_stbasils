<html>
	<head>
            <title>
                Outcome Estimator
            </title>
            <link rel="stylesheet" type= "text/css" href="{{ url_for('static', filename='styles/styles.css')}}">
            <!-- <script type="text/javascript" src="static/scripts/main.js"></script> -->
    
    
        </head>
	<body>
	              <script>

                function onClick(element) {
                document.getElementById("img01").src = element.src;
                document.getElementById("modal01").style.display = "block";
                }  
            </script>
            
    


            <div><img src='static/stb.png' height="65" id="mainicon"></div>
            
            <div><nav>
    
                <ul class="menu">
    
                  <li><a href={{ url_for('home') }}> Accomodation & EET</a></li>
                  <li><a href={{ url_for('starindex') }}> Star score</a></li>
                  <li><a href="https://hannaheow.shinyapps.io/StBasilsCausalInference/"> Dose response app</a></li>  
                  <li><a href={{ url_for('report') }}> Summary report</a></li>
                </ul>
              </nav>
    
            </div>
    
            <!-- <center><h2>St Basil's</h2></center> -->
            <center><h2>OUTCOME ESTIMATION TOOL</h2></center>
            <br>
    
    <form action="/predict" method="POST" autocomplete="on">
        <table id="boxes" class="center">
    
            <tr> <!--SPLITTING TABLE INTO TWO COLUMNS: INPUTS AND OUTPUTS-->
        <!-- INPUTS COLUMN -->
    <td style="width:25%"></td>
    <td id="BIGLEFT">
    
    
        <!-- INPUT FORM -->
        <table>
        <tr>
            <td id="left">
                <label for="Gender">Gender</label><br>
                <select name="Gender" id="Gender">
			    'Male', 'Female', 'Trans_Gender', nan
			    <option value="Male" selected>Male</option>
			    <option value="Female" >Female</option>
			    <option value="Trans_Gender" >BD</option>
			    <option value="">Other</option>
			</select><br>
    
                <label for="Nationality">Nationality</label><br>
                <select name="Nationality" id="Nationality">
			    <option value="UK National Resident in UK" selected>UK National Resident in UK</option>
			    <option value="Non-EEA country national">Non-EEA country national</option>
			    <option value="Other EEA country national">Other EEA country national</option>
			    <option value="">Don't Know</option>
			</select><br>
                
                <label for="Sexual Orientation">Sexual orientation</label><br>
                <select name="Sexual Orientation" id="Sexual Orientation">
			    <option value="Heterosexual or Straight" selected>Heterosexual or Straight</option>
			    <option value="Bisexual">Bisexual</option>
			    <option value="Refused to answer">Refused to answer</option>
			    <option value="Gay or Lesbian">Gay or Lesbian</option>
			    <option value="Other">Other</option>
			    <option value="">Don't Know</option>
			</select><br>
    
                <label for="Marital Status">Marital status</label><br>
                <select name="Marital Status" id="Marital Status">
			    <option value="Single" selected>Single</option>
			    <option value="Single Lone Parent">Single Lone Parent</option>
			    <option value="Other" >Other</option>
			    <option value="C">C</option>
			    <option value="Single Parent">Single Parent</option>
			    <option value="">Don't Know</option>
			</select><br>
    
                <label for="Religion">Religion</label><br>
                <select name="Religion" id="Religion">
			    <option value="Muslim" selected>Muslim</option>
			    <option value="Christian - Other">Christian</option>
			    <option value="No Religion">No Religion</option>
			    <option value="fill">Others</option>
			    <option value="">Not Known</option>
			    <option value="Refused to answer">Refused to answer</option>
			</select><br>
                
                <label for="Preferred Language">Preferred language</label><br>
                <select name="Preferred Language" id="Preferred Language">
			    <option value="** English">** English</option>
			    <option value="** Believed to be English">** Believed to be English</option>
			    <option value="fill">Other</option>
			    <option value="">Not Known</option>
			</select><br>
    
                <label for="EET status">EET status</label><br>
                <select name="EET status" id="EET status">
			    <option value="EET" selected>EET</option>
			    <option value="NEET">NEET</option>
			    <option value="Not Known">Not Known</option>
			    <option value="">Other</option>
			</select><br>
    
                <label for="Economic Status">Economic status</label><br>
                <select name="Economic Status" id="Economic Status">
			    <option value="Full Time Work (30+ hrs)" selected>Full Time Work (30+ hrs)</option>
			    <option value="Part Time Work (<30 hrs)">Part Time Work (&lt;30 hrs)</option>
			    <option value="NEET But NO Beneifts">NEET But NO Beneifts</option>
			    <option value="Receipt of Benefits">Receipt of Benefits</option>
			    <option value="Job Seeker">Job Seeker</option>
			    <option value="No Income">No Income</option>
			    <option value="Full Time Student">Full Time Student</option>
			    <option value="College">College</option>
			    <option value="Not Seeking Work">Not Seeking Work</option>
			</select><br>
    
                <label for="Acc Type prev">Previous accomodation type</label><br>
                <select name="Acc Type prev" id="Acc Type prev">
			    <option value="Living with Family (Family Other)" selected>Living with Family (Family Other)</option>
			    <option value="Social rented supported housing or hostel ">Social rented supported housing or hostel</option>
			    <option value="Living with Friends ">Living with Friends</option>
			    <option value="Temporary Accommodation">Temporary Accommodation</option>
			    <option value="No Fixed Abode">No Fixed Abode</option>
			    <option value="Living with Family (Family Home)">Living with Family (Family Home)</option>
			    <option value="Rough sleeping (in judgement of assessor) ">Rough sleeping (in judgement of assessor)</option>
			    <option value="">Don't Know</option>
			    <option value="Private Rented Sector: HMO">Private Rented Sector: HMO</option>
			    <option value="Looked after children placement ">Looked after children placement </option>
			    <option value="fill">Other</option>
			</select><br>
                    
                <label for="Area">Area</label><br>
                <select name="Area" id="Area">
			    <option value="Birmingham" selected>Birmingham</option>
			    <option value="Warwickshire">Warwickshire</option>
			    <option value="Solihull">Solihull</option>
			    <option value="Worcestershire">Worcestershire</option>
			    <option value="Sandwell">Sandwell</option>
			    <option value="Coventry">Coventry</option>
			    <option value="Walsall">Walsall</option>
			</select><br>
                
                <label for="Service Type">Service type</label><br>
                <select name="Service Type" id="Service Type">
			    <option value="Floating Support" selected>Floating Support</option>
			    <option value="Accommodation">Accommodation</option>
			    <option value="Rough Sleepers">Rough Sleepers</option>
			    <option value="Supported Lodgings">Supported Lodgings</option>
			</select><br>
            </td>
    
    
            <td id="right">
                <!-- <input type="checkbox" id="Medical Issue" name="Medical Issue" value="Yes">
                <label for="Medical Issue">Medical issues &nbsp; &nbsp; &nbsp;</label><br> -->
    
                <label for="Medical Issue">Medical issues</label><br>
                <select name="Medical Issue" id="Medical Issue">
                    <option value="Yes">Yes</option>
                    <option value="No" selected>No</option>
                </select><br>
                 
                <label for="TotalMentalHealth">Total mental health disabilities</label><br>
                <input type="number" id="TotalMentalHealth" name="TotalMentalHealth" min="0" max="10" value=0><br>
                
                <label for="TotalDisabilty">Total physical health disabilities</label><br>
                <input type="number" id="TotalDisabilty" name="TotalDisabilty" min="0" max="10" value=0><br>
                
                <label for="B1">B1</label><br>
                <select name="B1" id="B1">
			    <option value="No benefits" selected>No benefits</option>
			    <option value="Housing Benefit" >Housing Benefit</option>
			    <option value="Universal Credit">Universal Credit</option>
			    <option value="Don't Know / Refused">Don't Know / Refused</option>
			</select><br>
    
                <label for="C1">C1</label><br>
                <select name="C1" id="C1">
			    <option value="N/A - Not Applicable" selected>N/A - Not Applicable</option>
			    <option value="No">No</option>
			    <option value="Yes">yes</option>
			    <option value="">Not Known</option>
			</select><br>
    
                <label for="H1">H1</label><br>
                <select name="H1" id="H1" >
                    <option value="Yes">Yes</option>
                    <option value="No" selected>No</option>
                </select><br>
    
                <label for="I1">I1</label><br>
                <select name="I1" id="I1">
                    <option value="Yes">Yes</option>
                    <option value="No" selected>No</option>
                </select><br>
    
                <label for="G1">G1</label><br>
                <select name="G1" id="G1">
                    <option value="Yes">Yes</option>
                    <option value="No" selected>No</option>
                </select><br>
    
                <label for="Scheme">Scheme</label><br>
                <select name="Scheme" id="Scheme">
			    <option value="AE" selected>AE</option>
			    <option value="CC" >CC</option>
			    <option value="BD" >BD</option>
			    <option value="CD" >CD</option>
			    <option value="AL" >AL</option>
			    <option value="AC" >AC</option>
			    <option value="BM" >BM</option>
			    <option value="BJ" >BJ</option>
			    <option value="AT" >AT</option>
			    <option value="AB" >AB</option>
			    <option value="AU" >AU</option>
			    <option value="AY" >AY</option>
			    <option value="AM" >AM</option>
			    <option value="AH" >AH</option>
			    <option value="fill">Other</option>
			</select><br>
    
                <label for="Time per Session">Time per session</label><br>
                <input type="number" id="Time per Session" name="Time per Session" min="10.0" max="120.0" value=30.0><br>
                
                <label for="Session per week">Session per week</label><br>
                <input type="number" id="Session per week" name="Session per week" min="1.0" max="10.0" value=2.0><br>
    
            </td>
        </tr>
        </table>
    
        <!-- SLIDER FOR MIXING Values -->
        <center>
        <label for="mixer" id="mixertBext">Complexity score contibution</label><br>
    
        <input name="mixer" type="range" min="0" max="100" value="50" class="slider" id="mixer" step="10"><br>
        
        <div class="box-minmax">
            <span>Accomodation outcome</span><span>EET outcome</span>
        </div>
    
    </center>
        <br><br>
    
        <!-- BUTTON ROW -->
        <!-- <tr id="buttondiv" class="form-group"> -->
        <center>
            <button class="button">
                <!-- <button type="submit">Predict outcomes</button> -->
                Predict outcomes
            </button>
        </center>
        <!-- </tr> -->
    
    
    </td>
    
    
    <td style="width:25%"></td>
    
    
    </tr> <!--CLOSING THE TABLE TR-->
    
    </table>
    <br>
    
    <div id="RESULTPAGE"></div>

    {% if showOutputs=='yes' %}

    <center><h2>ESTIMATED RESULTS</h2></center>
    
            <!-- PREDICTION TEXT ROW -->
            <center>
                <p id="predictiontext">{{ prediction_text }}</p>
            <table>
            <tr>
                <canvas id="DemoCanvas" width="350"></canvas>
                <canvas id="emptycanvas1" width="120"></canvas>
                <canvas id="DemoCanvas2" width="350"></canvas>
            </tr>

            <tr>
                    <div class="box-minmax-bar">
                        <div id="spans"><span>0</span><span>&nbsp;</span><span>min</span><span>Value</span><span>max</span><span>&nbsp;</span><span>100</span></div>
                        <div class="emptydiv"><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span></div>
                        <div id="spans"><span>0</span><span>&nbsp;</span><span>min</span><span>Value</span><span>max</span><span>&nbsp;</span><span>100</span></div>
                    </div>
            </tr>
          
            </table>
            <p id="predictiontext">{{ complexity_score }}</p>

        <!-- <canvas id="DemoCanvas"></canvas> -->

        <script>
        var canvas = document.getElementById("DemoCanvas");
        if (canvas.getContext)
        {
            var low = {{ low_ten }}
            var ctx = canvas.getContext('2d');
            ctx.lineJoin = "round";
            ctx.lineWidth = "25";
            ctx.strokeStyle = "#EEF1FF";
            ctx.strokeRect(20, 50, 300, 20);
            ctx.strokeStyle = "#73A1FF";
            ctx.strokeRect(20+low*3, 50, 8*3, 20);
            ctx.lineJoin = "bevel";
            ctx.lineWidth = "7";
            ctx.strokeStyle = "#0021B6";
            ctx.strokeRect(20+(low+4)*3, 44, 2, 33);
            
        }
        var canvas = document.getElementById("DemoCanvas2");
        if (canvas.getContext)
        {
            var low = {{ low_eet }}
            var ctx = canvas.getContext('2d');
            ctx.lineJoin = "round";
            ctx.lineWidth = "25";
            ctx.strokeStyle = "#EEF1FF";
            ctx.strokeRect(20, 50, 300, 20);
            ctx.strokeStyle = "#73A1FF";
            ctx.strokeRect(20+low*3, 50, 8*3, 20);
            ctx.lineJoin = "bevel";
            ctx.lineWidth = "7";
            ctx.strokeStyle = "#0021B6";
            ctx.strokeRect(20+(low+4)*3, 44, 2, 33);
            
        }
        
        </script>


            <br><br>
            
        
        </center>
     
    
    
    
    
    <center><h2>ACCOMODATION OUTCOMES</h2></center>
    
    
    <table id="acc">
        <tr>
            <td id="outcomeleft">
        <img src='static/graphs/tps_tenancy.png' id="plot" onclick="onClick(this)" class="modal-hover-opacity">
        <img src='static/graphs/spw_tenancy.png' id="plot" onclick="onClick(this)" class="modal-hover-opacity">
        <img src='static/graphs/scheme.png' id="plot" onclick="onClick(this)" class="modal-hover-opacity">

        <!-- <img src='static/graphs/tps_tenancy.png' id="plot1" class="zoomable">
        <img src='static/graphs/spw_tenancy.png' id="plot2" class="zoomable">
        <img src='static/graphs/scheme.png' id="plot3" class="zoomable"> -->
    
    
    <div id="modal01" class="modal" onclick="this.style.display='none'">
      <span class="close">&times;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <div class="modal-content">
        <img id="img01" style="max-width:120%">
      </div>
    </div>


        </td> 
        </tr>
        </table>
        
        <center><h2>EDUCATION AND EMPLOYABILITY OUTCOMES</h2></center>
    
        
        <table id="eet">
            <tr>
            <td id="outcomeright">
    
                <img src='static/graphs/tps_eet.png' id="plot"  onclick="onClick(this)" class="modal-hover-opacity">
                <img src='static/graphs/spw_eet.png' id="plot"  onclick="onClick(this)" class="modal-hover-opacity">
    
                <!-- <img src='static/graphs/tps_eet.png' id="plot4" class="zoomable">
                <img src='static/graphs/spw_eet.png' id="plot5" class="zoomable"> -->
    
            </td>
            </tr>
        </table>
    
    </form>
    {% else %}
    {% endif %}
    

    <!-- <footer>
        <right>
        Copyright © 2022 All Rights Reserved by St Basils.
    </right>
    </footer> -->


    
	</body>
</html>
